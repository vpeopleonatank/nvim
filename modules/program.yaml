- repo: tpope/vim-dadbod

- repo: kristijanhusak/vim-dadbod-ui
  on_cmd:
    [DBUIToggle, DBUIAddConnection, DBUI, DBUIFindBuffer, DBUIRenameBuffer]
  on_source: vim-dadbod
  hook_source: |
    let g:db_ui_show_help = 0
    let g:db_ui_win_position = 'left'
    let g:db_ui_use_nerd_fonts = 1
    let g:db_ui_winwidth = 35
    let g:db_ui_save_location = getenv("HOME") . '/.cache/vim/db_ui_queries'
    let g:dbs = luaeval('require("internal.selfunc").load_dbs')()

- repo: editorconfig/editorconfig-vim
  on_ft: [go, typescript, javascript, vim, rust, markdown]

- repo: glepnir/indent-guides.nvim
  on_event: BufReadPre
  hook_source: |-
    lua <<EOF
    require('indent_guides').setup {
      even_colors = { fg ='NONE',bg='#23272e'},
      odd_colors = {fg='NONE',bg='#23272e'}
    }
    EOF

# - repo: glepnir/prodoc.nvim
#   on_event: BufReadPre

- repo: b3nj5m1n/kommentary
  hook_source: |-
    lua <<EOF
    require('kommentary.config').configure_language("default", {
        prefer_single_line_comments = true,
    })
    EOF


- repo: liuchengxu/vista.vim
  on_cmd: [Vista, Vista!, Vista!!]
  hook_source: |
    let g:vista#renderer#enable_icon = 1
    let g:vista_disable_statusline = 1
    let g:vista_default_executive = 'ctags'
    let g:vista_echo_cursor_strategy = 'floating_win'
    let g:vista_vimwiki_executive = 'markdown'
    let g:vista_executive_for = {
      \ 'vimwiki': 'markdown',
      \ 'pandoc': 'markdown',
      \ 'markdown': 'toc',
      \ 'typescript': 'nvim_lsp',
      \ 'typescriptreact': 'nvim_lsp',
      \ }

- repo: mhartington/formatter.nvim
  on_ft: [typescript,typescriptreact,lua]
  on_cmd: Format
  hook_source: |-
    lua <<EOF
    require('formatter').setup({
      logging = false,
      filetype = {
        typescriptreact = {
          function()
              return {
                exe = "prettier",
                args = {"--stdin-filepath", vim.api.nvim_buf_get_name(0), '--single-quote'},
                stdin = true
              }
            end
        },
        typescript = {
          function()
              return {
                exe = "prettier",
                args = {"--stdin-filepath", vim.api.nvim_buf_get_name(0), '--single-quote'},
                stdin = true
              }
            end
        },
        lua = {
            -- luafmt
            function()
              return {
                exe = "lua-format",
                args = {"--indent-count", 2, "--stdin"},
                stdin = true
              }
            end
          }
        }
      })
    EOF


- repo: jpalardy/vim-slime
  on_ft: [python]
  hook_source: |-
    let g:slime_target = 'tmux'

    " fix paste issues in ipython
    let g:slime_python_ipython = 1

    " always send text to the top-right pane in the current tmux tab without asking
    let g:slime_default_config = {
                \ 'socket_name': get(split($TMUX, ','), 0),
                \ 'target_pane': '{top-right}' }
    let g:slime_dont_ask_default = 1


- repo: 'hanschen/vim-ipython-cell'
  on_ft: [python]
  hook_source: |-
    nnoremap <leader>as :SlimeSend1 ipython --matplotlib<CR>
    nnoremap <leader>ar :IPythonCellRun<CR>
    nnoremap <leader>aR :IPythonCellRunTime<CR>
    nnoremap <leader>ac :IPythonCellExecuteCell<CR>
    nnoremap <leader>aC :IPythonCellExecuteCellJump<CR>
    nnoremap <leader>al :IPythonCellClear<CR>
    nnoremap <leader>ax :IPythonCellClose<CR>
    nnoremap [c :IPythonCellPrevCell<CR>
    nnoremap ]c :IPythonCellNextCell<CR>
    nmap <leader>ah <Plug>SlimeLineSend
    xmap <leader>ah <Plug>SlimeRegionSend
    nnoremap <leader>ap :IPythonCellPrevCommand<CR>
    nnoremap <leader>aQ :IPythonCellRestart<CR>
    nnoremap <leader>ad :SlimeSend1 %debug<CR>
    nnoremap <leader>aq :SlimeSend1 exit<CR>
    autocmd filetype python nnoremap <F2> :SlimeSend1 python % <CR>
